<!doctype html>
<html lang="pl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Minimal Work Timer</title>
<style>
  :root{
    --card-bg: #efefef;
    --accent: #222;
    --muted: #666;
  }

  /* layout */
  html,body{height:100%;margin:0;background:transparent;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
  .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:12px;box-sizing:border-box}

  /* card */
  .card{
    width:100%; max-width:220px;
    background:var(--card-bg);
    border-radius:10px;
    padding:12px;
    box-sizing:border-box;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:8px;
  }

  /* timer - monospace, większe cyfry */
  #timerDisplay{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', monospace;
    font-size:2rem;
    letter-spacing:0.08em; /* luz między grupami zamiast kropek */
    color:var(--accent);
    margin:0;
    line-height:1;
  }

  /* small label for separators (visually hidden semantically) */
  .sep{opacity:0.35;font-weight:600;font-size:0.95rem; margin:0 2px}

  /* controls - single primary button + tiny reset */
  .controls{display:flex;gap:8px;align-items:center}
  .btn{
    padding:8px 12px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);
    background:white;color:var(--accent);cursor:pointer;font-weight:700;font-size:0.9rem;
  }
  .btn.primary{background:var(--accent);color:#fff;border:none}
  .btn:active{transform:translateY(1px)}
  .btn:disabled{opacity:0.5;cursor:not-allowed}

  /* tiny reset */
  .reset{background:transparent;border:none;color:var(--muted);font-size:0.9rem;cursor:pointer;padding:4px}
  .reset:active{transform:translateY(1px)}

  /* very small screens */
  @media (max-width:260px){
    .card{max-width:200px;padding:10px}
    #timerDisplay{font-size:1.6rem}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="region" aria-label="Minimalny timer pracy">
      <!-- Timer: pokazuje HH MM SS (bez kropek/dwukropków) -->
      <div id="timerDisplay" aria-live="polite">00 00 00</div>

      <div class="controls" role="group" aria-label="Kontrolki timera">
        <button id="toggleBtn" class="btn primary" type="button">Start</button>
        <button id="resetBtn" class="reset" type="button" title="Resetuj licznik">Reset</button>
      </div>
    </div>
  </div>

<script>
  // Minimalny timer: Start/Stop toggle + Reset
  let running = false;
  let startTs = null;
  let accMs = 0;
  let tickInterval = null;

  const display = document.getElementById('timerDisplay');
  const toggleBtn = document.getElementById('toggleBtn');
  const resetBtn = document.getElementById('resetBtn');

  function pad(n){ return String(n).padStart(2,'0'); }

  function msToParts(ms){
    const total = Math.floor(ms/1000);
    const h = Math.floor(total/3600);
    const m = Math.floor((total%3600)/60);
    const s = total%60;
    return {h,m,s};
  }

  function render(){
    const elapsed = accMs + (running && startTs ? Date.now() - startTs : 0);
    const {h,m,s} = msToParts(elapsed);
    // zamiast ":" używamy spacji jako separatora (bez kropek)
    display.textContent = `${pad(h)} ${pad(m)} ${pad(s)}`;
  }

  function start(){
    if(running) return;
    running = true;
    startTs = Date.now();
    toggleBtn.textContent = 'Stop';
    tickInterval = setInterval(render, 250);
    render();
  }

  function stop(){
    if(!running) return;
    accMs += Date.now() - startTs;
    startTs = null;
    running = false;
    clearInterval(tickInterval);
    toggleBtn.textContent = 'Start';
    render();
  }

  function resetAll(){
    if(confirm('Resetować licznik?')) {
      running = false;
      startTs = null;
      accMs = 0;
      clearInterval(tickInterval);
      toggleBtn.textContent = 'Start';
      render();
    }
  }

  toggleBtn.addEventListener('click', ()=>{ running ? stop() : start(); });
  resetBtn.addEventListener('click', resetAll);

  // keyboard: Space toggles (when not focusing inputs)
  document.addEventListener('keydown', (e)=>{
    if(e.target.tagName === 'INPUT' || e.target.isContentEditable) return;
    if(e.code === 'Space'){ e.preventDefault(); running ? stop() : start(); }
  });

  // initial render
  render();
</script>
</body>
</html>
